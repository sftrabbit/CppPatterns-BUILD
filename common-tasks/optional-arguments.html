<!doctype html>
<html>
	<head>
		<title>Optional arguments - C++ Samples</title>
		<meta charset="utf-8">
		<meta name="description" content="Allow argument values to be omitted when calling a function.

">
		<meta name="viewport" content="width=device-width,user-scalable=no">
		<link rel="canonical" href="http://www.cppsamples.com/common-tasks/optional-arguments.html">
		<link rel="icon" sizes="16x16" type="image/vnd.microsoft.icon" href="http://www.cppsamples.com/images/icon-16.ico">
		<link rel="icon" sizes="32x32" type="image/vnd.microsoft.icon" href="http://www.cppsamples.com/images/icon-32.ico">
		<link href="http://fonts.googleapis.com/css?family=Roboto:400italic,100,700italic,700,400|Roboto+Slab|Ubuntu+Mono" rel="stylesheet" type="text/css">
		<link href="http://www.cppsamples.com/css/screen.css" rel="stylesheet" type="text/css">
		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

		<meta name="twitter:card" content="summary">
		<meta name="twitter:creator" content="@sftrabbit">
		<meta property="og:title" content="Optional arguments - C++ Samples">
		<meta property="og:site_name" content="C++ Samples">
		<meta property="og:url" content="http://www.cppsamples.com/common-tasks/optional-arguments.html">
		<meta property="og:description" content="Allow argument values to be omitted when calling a function.

">
		<meta property="fb:app_id" content="676162015844286">
	</head>
	<body>
		<header>
			<div class="container">
				<div class="row">
					<div class="column-4">
						<h1><a href="http://www.cppsamples.com/"><span>C++</span>​Samples</a></h1>
						<p>A repository of modern C++ code samples curated by the community.</p>
					</div>
				</div>
			</div>
		</header>
		<main class="container">
			<div class="row disclaimer">
				<div class="column-4">
					<p>C++ Samples was launched on 6th April 2015 and the existing samples are still under review. If you notice any mistakes or would like to contribute additional samples, please leave comments or <a href="https://github.com/sftrabbit/CppSamples-Samples">fork the sample repository</a>.</p>
				</div>
			</div>
			<script>
var selected = false;

function apply_to_lines(lineRefElement, callback) {
	var lineNumStart = parseInt(lineRefElement.dataset.line);
	var lineNumEnd = lineNumStart;
	if (lineRefElement.dataset.lineEnd) {
		var lineNumEnd = parseInt(lineRefElement.dataset.lineEnd);
	}
	for (var i = lineNumStart; i <= lineNumEnd; i++) {
		var lineElement = document.getElementById('line'+i);
		callback(lineElement);
	}
}

function clear_all() {
	var i = 1;
	var lineElement;
	while (lineElement = document.getElementById('line'+i)) {
		lineElement.style.backgroundColor = "transparent";
		i++;
	}
}

document.addEventListener('DOMContentLoaded', function() {
	document.onclick = function(event) {
		clear_all();
	}

	var lineRefElements = document.getElementsByClassName('lineref');
	for (var i = 0; i < lineRefElements.length; i++) {
		lineRefElements[i].onclick = function(event) {
			clear_all();
			apply_to_lines(event.target, function(lineElement) {
				lineElement.style.backgroundColor = "rgb(76, 69, 41)";
			});
			event.stopPropagation();
		}
		lineRefElements[i].onmouseover = function(event) {
			apply_to_lines(event.target, function(lineElement) {
				if (lineElement.style.backgroundColor != "rgb(76, 69, 41)") {
					lineElement.style.backgroundColor = "rgb(69, 69, 69)";
				}
			});
			event.stopPropagation();
		}
		lineRefElements[i].onmouseout = function(event) {
			apply_to_lines(event.target, function(lineElement) {
				if (lineElement.style.backgroundColor != "rgb(76, 69, 41)") {
					lineElement.style.backgroundColor = "transparent";
				}
			});
			event.stopPropagation();
		}
	}
}, false);
			</script>
			<section class="sample">
				<div class="row">
					<div class="column-4">
						<a href="http://www.cppsamples.com/">← Samples</a>
						<h1>Optional arguments</h1>
					</div>
				</div>
				<div class="row">
					<div class="column-2">
						<table class="codeblock"><tr><td class="linenums"><pre><code>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</code></pre></td><td class="code highlight"><pre><code class="cpp"><span class="codeline" id="line1"><span class="cp">#include &lt;experimental/optional&gt;</span></span>
<span class="codeline" id="line2"></span>
<span class="codeline" id="line3"><span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">experimental</span><span class="o">::</span><span class="n">optional</span><span class="p">;</span></span>
<span class="codeline" id="line4"><span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">experimental</span><span class="o">::</span><span class="n">nullopt</span><span class="p">;</span></span>
<span class="codeline" id="line5"></span>
<span class="codeline" id="line6"><span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span></span>
<span class="codeline" id="line7">         <span class="n">optional</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">f</span><span class="p">,</span></span>
<span class="codeline" id="line8">         <span class="n">optional</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">b</span><span class="p">)</span></span>
<span class="codeline" id="line9"><span class="p">{</span> <span class="p">}</span></span>
<span class="codeline" id="line10"></span>
<span class="codeline" id="line11"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span></span>
<span class="codeline" id="line12"><span class="p">{</span></span>
<span class="codeline" id="line13">	<span class="n">foo</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span></span>
<span class="codeline" id="line14">	<span class="n">foo</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">nullopt</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span></span>
<span class="codeline" id="line15">	<span class="n">foo</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">nullopt</span><span class="p">);</span></span>
<span class="codeline" id="line16">	<span class="n">foo</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">nullopt</span><span class="p">,</span> <span class="n">nullopt</span><span class="p">);</span></span>
<span class="codeline" id="line17"><span class="p">}</span></span></code></pre></td></tr></table>
						<p class="license">This sample is licensed under the <a href="http://creativecommons.org/publicdomain/zero/1.0/">CC0 Public Domain Dedication</a>.</p>
					</div>
					<div class="column-2">
						<h2>Intent</h2>
						<p>Allow argument values to be omitted when calling a function.</p>


						<h2>Description</h2>
						<p><strong>Note</strong>: This sample uses experimental entities from the Library
Fundamentals TS that demonstrate likely upcoming features in C++
but should not be used in production code.</p>

<p>The function <code>foo</code>, on <a href="#line6" class="lineref" data-line="6" data-line-end="9">lines 6–9</a>, takes three arguments, two of which
have type
<a href="http://en.cppreference.com/w/cpp/experimental/optional"><code>std::experimental::optional</code></a> (from
the Library Fundamentals TS). This allows the value of those
arguments to be omitted, as shown on <a href="#line14" class="lineref" data-line="14" data-line-end="16">lines 14–16</a>, where
<a href="http://en.cppreference.com/w/cpp/experimental/optional/nullopt"><code>std::experimental::nullopt</code></a>
represents no value.</p>

<p>This approach is more expressive than using pointers and <code>nullptr</code>.
A related technique is the use of default arguments, which allow
arguments to be omitted entirely, but only from the end of the
argument list.</p>

<p>If you are constructing an object with a complex combinatorial set
of optional arguments, consider using the
<a href="/patterns/builder.html">builder pattern</a>.</p>

						<div class="subrow">
							<div class="column-1">
								<h2>Contributors</h2>
								<ul class="contributors">

									<li><a title="Joseph Mansfield" href="https://github.com/sftrabbit"><img src="https://avatars.githubusercontent.com/u/32490?v=3&size=36" alt="Joseph Mansfield"></a></li>

								</ul>
							</div>
							<div class="column-1">
								<h2>Last Updated</h2>
								<p>07 April 2015</p>
							</div>
						</div>
						<div class="subrow">
							<div class="column-1">
								<h2>Source</h2>
								<p><a href="https://github.com/sftrabbit/CppSamples-Samples/tree/master/1-common-tasks/functions/optional-arguments.cpp">Fork this sample on GitHub</a></p>
							</div>
							<div class="column-1">
								<h2>Share</h2>
								<p><div class="fb-like" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div></p>
								<p><a href="https://twitter.com/share" class="twitter-share-button" data-via="sftrabbit" data-dnt="true">Tweet</a></p>
								<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="column-4">
						<div id="disqus_thread"></div>
						<script type="text/javascript">
var disqus_shortname = 'cppsamples';

(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
						</script>

						<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6789411983750873" data-ad-slot="5581833133" data-ad-format="auto"></ins>

					</div>
				</div>
			</section>

		</main>
		<footer class="container">
			<div class="row">
				<div class="column-2">
					<p>Feel like <b>contributing</b>? This website is generated from a git repository. If you have something to add or have noticed a mistake, please <a href="https://github.com/sftrabbit/CppSamples-Samples">fork the project on GitHub</a>.</p>
					<p><div class="fb-like" data-href="http://www.cppsamples.com/" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div></p>
					<p><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.cppsamples.com/" data-text="Modern and idiomatic C++ code from C++ Samples" data-via="sftrabbit" data-dnt="true">Tweet</a></p>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				</div>
				<div class="column-1 offset-1 about">
					<img src="http://josephmansfield.uk/images/logo.svg">
					<p>C++ Samples created by <a href="http://josephmansfield.uk/">Joseph Mansfield</a></p>
				</div>
			</div>
		</footer>
		<script>
adsbygoogle = window.adsbygoogle || [];
adsbygoogle.push({});

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17335804-5', 'auto');
ga('send', 'pageview');

window.fbAsyncInit = function() {
  FB.init({
    appId      : '676162015844286',
    xfbml      : true,
    version    : 'v2.3'
  });
};

(function(d, s, id){
   var js, fjs = d.getElementsByTagName(s)[0];
   if (d.getElementById(id)) {return;}
   js = d.createElement(s); js.id = id;
   js.src = "//connect.facebook.net/en_US/sdk.js";
   fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
		</script>
	</body>
</html>
